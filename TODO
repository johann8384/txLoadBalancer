Roadmap
=======

Bugs
----


Placeholders
------------
 * add a tool for generating a password (bin script that calls util functions)
 * can nextHost() get unburried? How "close" can we bring it to the receiver
   factory?
 * rename 'manager' attributes to 'taskManager'
 * rename 'director' attributes to 'proxyManager'


Version 1.1.0
-------------
 * add web admin UI support for enabling groups
 * add a configuration checker and write out the new ones to disk
   . config objects need to support representing themselves as XML
   . back up the old ones
   . disable by default; add configuration option in manager
   . store initial configuration in memory as an unparsed string (for
     comparison)


Version 1.2.0
-------------
 * add a scheduler that accounts for memory and CPU utilization, which will
   require:
   . a standard python means for services to get system memory and other
     resource utilization stats
   . a means for services to report this to the ProxyManager
   . an algorigthm (or series of them) for determining the suitablity of a
     service to receive the next request based on a total evalution of current
     reported resource utilization
 * I don't like the default behaviour of adding bad hosts back into circulation
   without any checks; I want to add something there...
   . store away more info about the down hosts
   . when, how long til next test, etc.
 * sort service groups in admin UI by name
 * cache DNS lookups
 * start adding unit tests
 * continue adding any missing docstring
 * support a configurable option to log connections that are made to the
   proxied hosts


Version 1.3.0
-------------
 * add heartbeat/HA features for lb'ed services to communicate back up to the
   lb manager
 * add an XML-RPC service instead of the custom web API
   . including adding methods for bouncing the admin UI
 * replace old PyDirector logging with Twisted logging
 * figure out a way to restart/upgrade pydir. Idea: close down listener, start
   new code immediately
   . let old connections on old pydir finish (run to completion) before exiting
   . look at (again) JP's live process migration work from several years ago
 * add diffs for examining running/stored configurations
 * drop as much of config.__init__ as possible and map XML directly to model
   objects instead
 * move CSS into a static file
 * continue adding unit tests


Version 1.4.0
-------------
 * [maybe] make the "top" link point to a list of service groups, linked to
   pages that just display that one section (as opposed to the view that
   "running" gives, which is all sections)
 * examine the benefits of schedulers having write control over host data
   . all that information is connection-oriented, and thogh the schedulers need
     that info, it is not part of their purpose: determining where the current
     request should be directed
   . connection information should be at the proxy level (the TCP server
     that opens connections to the proxied host)
   . proxies should track information for each of its connections (really, the
     connections being made to the proxy's receiver)
 * examine breaking out listeners and managers across different processes/hosts
   . if a Twisted service is to be loadbalanced how should that happen?
   . if we are running a manger daemon for twisted services that are configured
     to be loadbalanced, how should that happen?
   . what about all of the services potentially being equal? any can be a
     manager, any can be balanced via another services proxy manager
 * sticky connections. keep a cache of 'client_ip':'backend_ip'
   . manager needs to be able to call "scheduler.cleanup()" to allow the
     cache to be manageable.
 * continue adding unit tests


Version 1.5.0
-------------
 * convert the user auth to use cred
 * complete unit tests


Version 2.0.0
-------------
 * the AMP-based "bottle" protocol
 * messaging, process control
 * cluster management
 * add additional authentication support
   . LDAP
   . RADIUS
 * connection count scheduler
  . could be used to track licensing of a service, or limit it


Exploratory
-----------
 * develop a twisted.application API that can be used by other applications
   to load balancing
   . a service needs to indicate that it is load balancing
   . if it is, it needs to read its load balancing configuration object
   . it needs to start up one or more proxies
   . it needs shutdown its main service and replace it with a listening service
 * configuration-oriented methods need to be moved onto new objects in a module
   of the txlb.application sub package.
 * static load balancring service
   . number of proxies are determined by configuration
 * dynamic load balancing service
   . number of proxies are determined by load
   . need to define "load"
 * possibly add proxy mixins/subclasses for different protocols (HTTP, DNS,
   etc.)
 * add the ability to do auto-naming (auto-incrementing a counter) so that if a
   name is left out (or if a host is auto-detected) it has a default
 * add a live upgrader:
   . developer builds an upgrader package (not necessarily a Python package)
   . package gets placed in a directory that txLoadBalancer regularly scans
   . the new package is placed into a time-based supdirectory that is made into
     a Python package (by giving it an __init__.py); as such, there will never
     be two overlapping upgrader Python packages
   . the upgrader gets imported and the resident memory objects are monkey
     patched, while the code on the filesystem is replaced
 * add the ability to dynamically add hosts into a proxy's rotation (the
   scheduler needs to be able to see them)
 * for applications that needed a crazy level of assured uptime, we could
   create load-balanced services on the fly that would allow them to migrate
   a service from one host to another simply by having both proxied, and when
   the old one goes down, it's taken out of the rotation

