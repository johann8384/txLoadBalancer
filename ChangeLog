2008.06.23 oubiwann

* Renamed loaders to proxy.
* Moved main.* code into manager.
* Renamed proxy.Director to manager.ProxyManager.
* Deleted main.py.
* Removed completed tasks from TODO.
* Cleaned up the error message that gets dumped into the admin UI when there's
a problem with a host.
* Updated a docstring.
* Updated README.
* Readjusted the version number to the proper next increment (it had skipped
ahead by a minor versio number).
* Updated Anthony's copyright coverage in license (was missing a couple years).
* Added copyright information for Apple's contributions.
* Updated TODO with some questions.
* Added a scenarios doc for exploring development paths.
* Really remove main.py.
* Put conf and compare in their own module.
* Moved splitHostPort function into utilities.
* Added a scheuler to the TODO.
* Started populating scenarios.txt.
* Added more notes to the scheduler idea in TODO.
* Cleaned up docstrings in schedulers.py.
* Added missing text to scenarios.txt.
* Added an application module and moved most of the .tac file contents there.
* Provided an explicit means of setting up twisted services in txlb.application
so that if people aren't using a .tac file, they don't have to mangle
txLoadBalancer code, they just need to import the setup functions in their
scripts.

2008.06.22 oubiwann

* Added a script for getting stress test stats using the siege tool.
* Added some initial stress test data.
* Updatd TODO with a tentative plan for a benchmark lab.
* Removed completed tasks from the TODO.
* Added support for a manager section and updated the corresponding docs.
* Removed useless chunk of code in manager.checkBadHosts.
* Added support for CDATA and <note> sections of the XML config file.
* Added documentation on the legal types of comments in the XML config file.
* Cleaned up the configuration class names.
* Named the configuration variables more consistently.
* Updated TODO.
* Removed the PyDirector string from the .tac file.
* Updated TODO.
* Updated the test plan.
* Updated configs and admin scripts for running additional tests.
* Fixed error in config.
* Updated siege runner admin script.
* Added stats for testing on a Netra 240.
* Added stats for testing with 4 web daemons on a Netra.
* Added more stats as well as images for select stats.
* Added the control protocol classes from Apple (Calendar Server) by David
Reid.
* Added the configuration options for the control/socket stuff from Apple
(Calendar Server) by David Reid.
* Updated the architecture diagram with the control/socket stuff.
* Added the Apple Calendar Server changes from David Reid to the Director.
* Updated the Listener and Directory with additional Apple Calendar Server
changes from David Reid.
* Added Sender fix from David Reid: "Make sure that when the server closes the
connection cleanly we close the connection with the client. This can cause
clients to hang and the loadbalancer to run out of filedescriptors."
* Added missing change from Apple: updated the Director with the changed
signature for the Listener.
* Fixed typo.
* Updated the driector's socket creation logic to accord with the configuration
class's implementation in txLoadBalancer (vs. the Apple implementation).
* Updated configuration docs with notes about Apple's "control" section.

2008.06.21 oubiwann

* Updated the config for benchmarking.
* Updated TODO.
* Updated admin.poges to use the new refresh rate config option.
* Added a configure option for the refresh rate.
* Updated the docs with info on the new "refresh" config option.
* Updated TODO.
* Cleaned up a listener import.
* Cleaned up formatting in listener.
* Removed reactor.run() call in listener.
* Minor scheduler tweaks.
* Updated TODO.
* Removed old, unused publisher (we're using Twisted to publish data to the
web).
* Updated TODO.
* Updated the sample config to have two service groups.
* Updated the docs for the web api.
* Added an admin definitions file for use with admin scripts.
* Changed commit.sh to use the defs.
* Added push.sh.
* Updated the scheduler docs.
* Updated the configuration docs.
* Changed the date separators.
* Added the changes from the last couple days to the change log.
* Grouped changes by day.
* Removed the indents from the ChangeLog.
* Added commit script.
* Added an admin clean script.
* Moved txlb.web to txlb.admin.
* Moved the .pem file generation to the etc dir.
* Finished ferrting out the old project name and references in all the code.
* Incremented version number (for next release).
* Fixed setup.py.
* Added admin scripts for running servers during development.
* Renamed the .tac file to accord with the project name.
* Fixed a typo in the LICENSE.
* File house cleaning.
* Removed package info file.
* Removed load profiling code.
* Updated TODO with current status.
* Fixed old import in setup.py.
* Updated the version number for the txLoadBalancer release. This release
breaks compatibility with PyDirector.
* Cleaned up imports, renamed files, and removed old threading or asyncore
files.
* Removed the old scripts.
* Updated the imports.
* Updated the .tac file to adjust for the new location of the example config.
* Added another example config.
* Renamed some files and moved the example config.
* Renamed the lib dir to txlb.
* Adjusted setup.py in anticipation of the fork to txLoadBalancer.
* Fixed typo in setup.py.
* Incremented version number, updated setup.py, and updated the license.
* Added support for basic auth to twisted-based web ui.
* Added support for HTTPS to twisted-based web ui.
* Cleaned up imports.
* Added a place for setting up HTTPS.
* Updated TODO.
* Added support for adding hosts through the twisted admin web ui.
* Adjusted the TODO.
* Added support for deleting hosts.
* Updated TODO.
* Added rendering of stored xml config in twisted-based admin web ui.
* Added support for render running XML config in twisted web ui.
* Removed useless render_GET.
* Minor formatting tweak.
* Fixed a perma-refresh bug.
* Fixed the request query param fetching.
* Updated TODO.
* Added stylesheet resource and stubbed out remaining resources.
* Added we resources to the .tac file for rudimentary twisted admin web ui.
* Added a tentative note about potential restructuring of listener services.
* Moved bad host info into template.
* Added host info to template.
* Moved the group header html into template.

2008.06.20 oubiwann

* Moved header and footer html out of pdadmin and into a template module.
* Added a stub for html templates.
* Some import cleanups.
* Moved scripts into bin dir.
* Added a bin directory for scripts.
* Removed a useless import and fixed a typo.
* Added a note about improving the hueristics for bad hosts.
* Added some missing imports, fixed some syntax, and added a Director instance
to the .tac file.
* Updated the architecture notes.
* Added code to the new director.
* Added a stub for the twisted-based director.
* Added a manager replacement.
* Added a stub for the twisted-based manager.
* Added a stub for the twisted-based admin interface.
* Added stubbed out .tac file.
* Added notes on current architecture and planned changes.
* Added a doc string.
* Consolidated import statements.
* Minor rearrangements in pdadmin.py
* Moved CSS out of pdadmin.
* Updated some docs.
* Updated the TODO with a note about getting rid of XML in a later version.
* Updated TODO.
* Cleaned up trailing white space and tabs.
* Added files from Anthony Baxter's 1.0.0 2004 release.

2004.12.15 anthonybaxter

* pydirector/pdnetwork.py: support twisted or asyncore
transparently (but prefer twisted)
* confex.xml: move comment from top

2004.08.18 anthonybaxter

* pydirector/pdconf.py: move import to top of method

2003.10.10 anthonybaxter

* pydirector/__init__.py: new version

2003.10.09 anthonybaxter

* pydir.py, pydirector/__init__.py, pydirector/micropubl.py,
pydirector/pdadmin.py, pydirector/pdconf.py,
pydirector/pdlogging.py, pydirector/pdmain.py,
pydirector/pdmanager.py, pydirector/pdnetworkasyncore.py,
pydirector/pdnetworktwisted.py, pydirector/pdschedulers.py: update
copyright year
* README.txt: release stuff.
* TODO.txt: [no log message]
* TODO.txt: [no log message]
* TODO.txt: done a couple
* README.txt, doc/configure.txt: document '*' == all addresses.
* pydirector/pdconf.py: can specify '*' as hostname to listen for
admin interface == all addresses.  Will also add the same feature
to the listen directive.
* doc/ChangeLog: [no log message]
* README.txt, doc/pythondirector.dtd, doc/schedulers.txt,
pydirector/pdschedulers.py: Added 'leastconnsrr' scheduler. May end
up deprecating/removing the existing leastconns scheduler, as the
new one is far far better.

2003.08.18 anthonybaxter

* pydirector/pdnetworktwisted.py: actually change the scheduler
when requested.

2003.05.02 anthonybaxter

* pydirector/pdconf.py: force backend server addresses to be ascii
strings - avoids some internal processing by python.

2003.05.01 anthonybaxter

* pydirector/: pdmain.py, pdnetworkasyncore.py,
pdnetworktwisted.py: whitespace n18n
* pydirector/pdschedulers.py: debugging print left in.

2003.04.30 anthonybaxter

* README.txt, TODO.txt, pydirector/pdnetworkasyncore.py,
pydirector/pdnetworktwisted.py, pydirector/pdschedulers.py: first
bunch of changes to allow "sticky" schedulers, where a client is
sent to the same server each time (by preference). No actual
scheduler or config support is there yet.
* pydir.py, pydirector/pdmain.py, pydirector/pdnetworktwisted.py:
optional profile (hotshot) support
* MANIFEST.in: add dtd to package.
* doc/ChangeLog: [no log message]
* README.txt, pydirector/__init__.py: pre-release dance.
* pydirector/pdconf.py: damn. stupid braino.
* pydirector/pdconf.py: handle comments in more places.
* BUGS.txt, setup.py, pydirector/pdmanager.py,
pydirector/pdnetworktwisted.py, pydirector/pdschedulers.py:
whitespace n18n
* TODO.txt: [no log message]
* pydir.py: up the number of open files with
resource.setrlimit(RLIMIT_NOFILE)
* pydirector/pdmanager.py: in the case where all backends are down,
go into aggressive mode - automatically re-add all servers each
time round the main manager loop.
* pydirector/pdconf.py: accept (and ignore) comments in the XML
config.
* pydirector/pdnetworktwisted.py: use pdlogging rather than
'print'.  in the case of no working backends, drop the client
connection.
* pydirector/pdschedulers.py: handle case where no working servers
were found - doneHost won't be able to mark anything as "done".
* pydirector/pdmain.py: don't hardcode default manager sleep
granularity here as well as in pdmanager.py

2002.11.26 anthonybaxter

* pydirector/__init__.py: [no log message]
* README.txt, pydir.py, setup.py: more pre-release cleanup.
* pydirector/: __init__.py, pdadmin.py, pdmain.py,
pdnetworktwisted.py, pdschedulers.py: reindent.py-ified.
* pydirector/pdmanager.py: *sigh* missed another line ending.
* README.txt: 0.0.5 notes.
* pydirector/: __init__.py, pdlogging.py, pdmain.py, pdnetwork.py,
pdnetworkasyncore.py, pdnetworktwisted.py, pdschedulers.py: merging
the twisted_branch into the HEAD.
* pydirector/pdnetworktwisted.py: mark hosts when they're down.
* pydirector/pdnetworktwisted.py: twisted now works. ! :)
* pydirector/: pdlogging.py, pdschedulers.py: logging cleanup.

2002.11.25 anthonybaxter

* pydirector/: pdmain.py, pdnetwork.py, pdnetworktwisted.py: Basic
code works - have to handle failure cases and interacting better
with the scheduler next.
* pydirector/: pdmain.py, pdnetworkasyncore.py,
pdnetworktwisted.py: checkpoint to save work
* pydirector/pdnetworktwisted.py: file pdnetworktwisted.py was
initially added on branch twisted_branch.
* pydirector/: __init__.py, pdnetwork.py: pdnetwork now loads
either twisted or asyncore versions.
* pydirector/pdnetworkasyncore.py: file pdnetworkasyncore.py was
initially added on branch twisted_branch.
* pydirector/: pdnetwork.py, pdnetworkasyncore.py: renamed
* pydirector/: pdmain.py, pdnetwork.py: moved all asyncore stuff
into pdnetwork.py, in preparation for twisted version.

2002.07.23 anthonybaxter

* pydirector/pdnetwork.py (tags: twisted_root): even more
defensiveness in the Listener.
* pydirector/: pdlogging.py (tags: twisted_root), pdmanager.py
(tags: twisted_root), pdnetwork.py, pdschedulers.py (tags:
twisted_root): more logging, with datestamps!

2002.07.17 anthonybaxter

* TODO.txt: [no log message]
* pydirector/: pdadmin.py, pdconf.py, pdmain.py, pdmanager.py,
pdschedulers.py, pdsortlist.py: first cut at refactoring the
scheduler.
* pydirector/pdsortlist.py: file pdsortlist.py was initially added
on branch scheduler-refactor-branch.
* pydirector/pdadmin.py (tags: twisted_root,
scheduler-refactor-root): SO_REUSEADDR re-added. oops.

2002.07.08 anthonybaxter

* TODO.txt: [no log message]
* README.txt, pydirector/__init__.py (tags: twisted_root,
scheduler-refactor-root) (utags: release_0_0_4): 0.0.4 release
* TODO.txt, doc/ChangeLog (utags: release_0_0_4): [no log message]
* README.txt, TODO.txt, pydir.py (tags: release_0_0_4),
pydirector/pdadmin.py (tags: release_0_0_4), pydirector/pdconf.py
(tags: twisted_root, scheduler-refactor-root, release_0_0_4),
pydirector/pdmain.py (tags: twisted_root, scheduler-refactor-root,
release_0_0_4), pydirector/pdmanager.py (tags:
scheduler-refactor-root, release_0_0_4): support multiple listen
directives for a service.
* TODO.txt: async C module notes, upgrade ideas
* BUGS.txt (tags: release_0_0_4): [no log message]
* doc/: configure.txt, pythondirector.dtd, xmlreference.txt (utags:
release_0_0_4): can now specify more than one 'listen' directive.
update documentation.

2002.07.04 anthonybaxter

* confex.xml (tags: release_0_0_4), doc/configure.txt,
doc/pythondirector.dtd, doc/webapi.txt (tags: release_0_0_4),
doc/xmlreference.txt: document the <client> -> <host> change.
* README.txt, doc/ChangeLog, TODO.txt: [no log message]
* pydirector/: pdadmin.py, pdconf.py: renamed 'client' to 'host' in
config all config objects now support getFoo(name), getFoos(), and
getFooNames() (where they have children)

2002.07.03 anthonybaxter

* TODO.txt: [no log message]
* .cvsignore (tags: release_0_0_4), doc/ChangeLog, TODO.txt: [no
log message]
* pydirector/: pdadmin.py, pdconf.py: implemented addUser/delUser.
hooked in basic SSL support (from M2Crypto) for the admin web
server.  Not entirely complete yet, but sort-of-works.
* doc/webapi.txt: add needed delGroup command
* BUGS.txt, TODO.txt: [no log message]
* doc/ChangeLog: [no log message]
* pydirector/pdconf.py: der. fixed stupid typo.
* pydirector/: __init__.py, compareconf.py (tags: twisted_root,
scheduler-refactor-root, release_0_0_4), micropubl.py (tags:
twisted_root, scheduler-refactor-root, release_0_0_4), pdadmin.py,
pdconf.py, pdlogging.py (tags: scheduler-refactor-root,
release_0_0_4), pdmain.py, pdmanager.py, pdnetwork.py (tags:
scheduler-refactor-root, release_0_0_4), pdschedulers.py (tags:
scheduler-refactor-root, release_0_0_4): whitespace normalisation
* pydirector/pdconf.py: allow pdconfig.PDConfig to take either
filename or string containing XML.
* pydirector/compareconf.py: module to compare an old and new
config, and supply api calls to bring the old up to the new.
* TODO.txt: [no log message]
* pydirector/pdadmin.py: added Refresh and Auto-refresh to
/running.
* pydirector/pdnetwork.py: missing newline on log_info() log
messages.
* pydirector/pdschedulers.py: handle "no alive hosts" explicitly in
schedulers.
* pydirector/: pdadmin.py, pdschedulers.py: added totals to innards
of scheduler and to the running interface.
* BUGS.txt: notes about bugs I spot
* TODO.txt: https admin interface.
* pydirector/pdlogging.py: oops. flush() the log entry.
* setup.py (tags: release_0_0_4, release_0_0_3): missed a 0.0.3
checkin
* TODO.txt: more bits.
* doc/: README.txt (tags: release_0_0_4), reference.txt,
xmlreference.txt: added docs/README.txt renamed reference to
xmlreference.txt
* doc/webapi.txt: complete web api doco.
* doc/: configure.txt, pythondirector.dtd, reference.txt,
schedulers.txt (tags: release_0_0_4): documentation. whoda thunk
it.

2002.07.02 anthonybaxter

* pydirector/__init__.py (tags: release_0_0_3): onwards to 0.0.3!
* README.txt (tags: release_0_0_3): on to 0.0.3!
* doc/ChangeLog (tags: release_0_0_3): [no log message]
* TODO.txt (tags: release_0_0_3): delHost implemented.
* pydirector/pdadmin.py (tags: release_0_0_3): added delHost
support.
* pydirector/pdschedulers.py (tags: release_0_0_3): delHost takes
an argument 'activegroup'. If true, you can't delete the last host
in the scheduler.
* confex.xml (tags: release_0_0_3): wee. more sample stuff.
* TODO.txt: 0.1 plans.
* README.txt: more API.
* TODO.txt: complete the API list.
* pydirector/pdadmin.py: added method running.xml running.txt is
more sane.  running.xml and config.xml are now access 'Read'
* pydirector/pdconf.py (tags: release_0_0_3): add
PDAdmin.getUsers() to retrieve full user list.

2002.07.01 anthonybaxter

* TODO.txt, confex.xml, pydirector/pdadmin.py,
pydirector/pdconf.py, pydirector/pdlogging.py (tags:
release_0_0_3), pydirector/pdnetwork.py (tags: release_0_0_3):
added a bunch of new logging support to the code. logging now all
goes to a single central file. many many logging entries need to be
written.
* TODO.txt: more todo
* pydirector/pdnetwork.py: socket.gaierror is a 2.2-ism. Handle
it's absence for 2.1. Todo: what does 'unknown host' raise under
2.1.
* .cvsignore (tags: release_0_0_3): more setup.py ignore
* doc/ChangeLog: [no log message]
* MANIFEST.in (tags: release_0_0_4, release_0_0_3): added ChangeLog
to dist.
* TODO.txt: more notes to self.
* .cvsignore: setup.py stuff
* MANIFEST.in: added setup.py input file.
* pydirector/: __init__.py, pdadmin.py: moved version to package
top.
* doc/: ChangeLog.preSF, OldChangelog.txt (tags: release_0_0_4,
release_0_0_3): renamed
* setup.py: simple setup.py
* pydir.py (tags: release_0_0_3): python2.1 compat fixes.
* pydirector/: __init__.py, micropubl.py (tags: release_0_0_3),
pdadmin.py, pdconf.py, pdmain.py (tags: release_0_0_3),
pdnetwork.py: Py2.1 compatibility fixes.
* pydirector/pdschedulers.py: renamed getHosts to getHostNames.
Made py2.1 compat.
* pydirector/pdmanager.py (tags: release_0_0_3): made the pdmanager
bad host re-add work again (woops!)
* pydir.py, pydirector/pdmain.py: broke main driver object off into
seperate pdmain module. driver is now trivial.
* TODO.txt, micropubl.py, pdadmin.py, pdconf.py, pdmanager.py,
pdnetwork.py, pdschedulers.py, pydir.py, pydirector/.cvsignore
(tags: twisted_root, scheduler-refactor-root, release_0_0_4,
release_0_0_3), pydirector/__init__.py, pydirector/micropubl.py,
pydirector/pdadmin.py, pydirector/pdconf.py,
pydirector/pdmanager.py, pydirector/pdnetwork.py,
pydirector/pdschedulers.py: Packaged up the code. Everything but
'pydir.py' is now in the pydirector package.
* confex.xml: add *(documentation).
* TODO.txt: should there be a shutdown mode in the web interface?
* micropubl.py, pdadmin.py, pdconf.py, pdmanager.py,
doc/balance.fig (tags: release_0_0_4, release_0_0_3): big
refactoring of the web interface. using a tiny publisher mixin
(babybobo, or micropublisher) to extract args and do that sort of
magic. not completely happy with it for now, but it's Good Enough
for now.

2002.06.25 anthonybaxter

* TODO.txt, pdadmin.py, pdschedulers.py, pydir.py: addHost works.
added a whole lotta CSS guff. running is now pretty with form bits
and stuff.

2002.06.21 anthonybaxter

* TODO.txt: note adding sticky schedulers.
* confex.xml: made the username more .. sample-ish.
* .cvsignore: sssh.
* README.txt, TODO.txt, confex.xml, pdadmin.py, pdconf.py,
pdmanager.py, pdnetwork.py, pdschedulers.py, pydir.py,
doc/ChangeLog.preSF, doc/LICENSE.txt (tags: release_0_0_4,
release_0_0_3) (utags: initial_sf_checkin): Initial SF checkin.
* README.txt, TODO.txt, confex.xml, pdadmin.py, pdconf.py,
pdmanager.py, pdnetwork.py, pdschedulers.py, pydir.py,
doc/ChangeLog.preSF, doc/LICENSE.txt: Initial revision
